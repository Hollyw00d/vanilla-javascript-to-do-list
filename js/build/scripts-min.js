"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ToDoListOperations=function e(){var t=this;_classCallCheck(this,e),_defineProperty(this,"addToDoItem",function(e){e.preventDefault(),t.toDoListItems.push({task:t.toDoItemTextField.value,completed:!1}),t.toDoListItems.forEach(function(e,t){e.id=t+1}),t.list.innerHTML=t.toDoListItems.map(function(e){var t,i;return!0===e.completed?(t="completed ",i=" checked"):(t="",i=""),'<li><input data-id="'.concat(e.id,'" type="checkbox" value="').concat(e.completed,'" class="to-do-list-checkbox" ').concat(i," /><span onclick='' class=\"").concat(t,'read-item-title">').concat(e.task,'</span><input class="edit-item hide" type="text" value="').concat(e.task,'" /></li>')}).join(""),t.toDoListItems.length>0?t.instructions.className="show":t.instructions.className="hide",t.totalItems.innerHTML=t.toDoListItems.length}),_defineProperty(this,"getTotalItems",function(){t.totalItems.innerHTML=t.toDoListItems.length,t.totalCompletedItems1.innerHTML=t.toDoListItems.length,t.totalCompletedItems2.innerHTML=t.toDoListItems.length}),_defineProperty(this,"toggleCrossOffItems",function(e){var i=e.target,s=Number(e.target.dataset.id),o=getToDoListElements.toDoListItems.filter(function(e){return e.id===s})[0];if("to-do-list-checkbox"===i.className)if(i.checked){o.completed=!0,i.value=!0,"read-item-title"===i.nextSibling.className?i.nextSibling.className="completed read-item-title":"completed read-item-title hide"===i.nextSibling.className&&(i.nextSibling.className="completed read-item-title hide");var a=getToDoListElements.toDoListItems.filter(function(e){return!0===e.completed}).length;t.totalCompletedItems1.innerHTML=a,t.totalCompletedItems2.innerHTML=a,a>0?(t.deleteBtnParagraph.classList.remove("hide"),t.deleteBtnParagraph.classList.add("show")):(t.deleteBtnParagraph.classList.remove("show"),t.deleteBtnParagraph.classList.add("hide"))}else{o.completed=!1,i.value=!1,i.nextSibling.className="read-item-title";var l=getToDoListElements.toDoListItems.filter(function(e){return!0===e.completed}).length;t.totalCompletedItems1.innerHTML=l,t.totalCompletedItems2.innerHTML=l,l>0?(t.deleteBtnParagraph.classList.remove("hide"),t.deleteBtnParagraph.classList.add("show")):(t.deleteBtnParagraph.classList.remove("show"),t.deleteBtnParagraph.classList.add("hide"))}}),_defineProperty(this,"deleteCompletedItems",function(e){e.preventDefault();var i=t.toDoListItems;t.toDoListItems=i.filter(function(e){return!1===e.completed}),t.list.innerHTML=t.toDoListItems.map(function(e){var t,i;return!0===e.completed?(t="completed ",i=" checked"):(t="",i=""),'<li><input data-id="'.concat(e.id,'" type="checkbox" value="').concat(e.completed,'" class="to-do-list-checkbox" ').concat(i," /><span onclick='' class=\"").concat(t,'read-item-title">').concat(e.task,'</span><input class="edit-item hide" type="text" value="').concat(e.task,'" /></li>')}).join(""),t.deleteBtnParagraph.classList.remove("show"),t.deleteBtnParagraph.classList.add("hide"),t.totalCompletedItems1.innerHTML=t.toDoListItems.filter(function(e){return!0===e.completed}).length,t.totalItems.innerHTML=t.toDoListItems.length,t.toDoListItems.length>0?t.instructions.className="show":t.instructions.className="hide"}),_defineProperty(this,"showUpdateItems",function(e){"read-item-title"===e.target.className?(e.target.className="read-item-title hide",e.target.nextSibling.className="edit-item show"):"completed read-item-title"===e.target.className&&(e.target.className="completed read-item-title hide",e.target.nextSibling.className="edit-item show")}),_defineProperty(this,"updateItemOnFocusOut",function(e){var i=e.target;if("edit-item show"===i.className){i.className="edit-item hide",i.previousSibling.innerHTML=i.value,i.setAttribute("value",i.value);var s=Number(i.previousSibling.previousSibling.dataset.id)-1;t.toDoListItems[s].task=i.value,"read-item-title hide"===i.previousSibling.className?i.previousSibling.className="read-item-title":"completed read-item-title hide"===i.previousSibling.className&&(i.previousSibling.className="completed read-item-title")}}),_defineProperty(this,"updateItemOnEnterKeyPress",function(e){var i=e.target;if(13===e.which&&"edit-item show"===i.className){i.className="edit-item hide",i.previousSibling.innerHTML=i.value,i.setAttribute("value",i.value);var s=Number(i.previousSibling.previousSibling.dataset.id)-1;t.toDoListItems[s].task=i.value,"read-item-title hide"===i.previousSibling.className?i.previousSibling.className="read-item-title":"completed read-item-title hide"===i.previousSibling.className&&(i.previousSibling.className="completed read-item-title")}}),this.form=document.querySelector("form"),this.submitBtn=document.querySelector('input[type="submit"]'),this.toDoItemTextField=document.querySelector("#todo-item"),this.totalCompletedItems1=document.querySelector("#total-completed-items1"),this.totalCompletedItems2=document.querySelector("#total-completed-items2"),this.totalItems=document.querySelector("#total-items"),this.list=document.querySelector("#list"),this.instructions=document.querySelector("#instructions"),this.deleteBtnParagraph=document.querySelector("#delete-btn"),this.deleteBtn=document.querySelector("#delete-btn > button"),this.toDoListItems=[]},getToDoListElements=new ToDoListOperations;getToDoListElements.submitBtn.addEventListener("click",getToDoListElements.addToDoItem),getToDoListElements.getTotalItems(),document.addEventListener("change",getToDoListElements.toggleCrossOffItems),getToDoListElements.deleteBtn.addEventListener("click",getToDoListElements.deleteCompletedItems),document.addEventListener("click",getToDoListElements.showUpdateItems),document.addEventListener("focusout",getToDoListElements.updateItemOnFocusOut),document.addEventListener("keydown",getToDoListElements.updateItemOnEnterKeyPress);