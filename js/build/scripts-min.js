"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(){var e=new function t(){var i=this;_classCallCheck(this,t),_defineProperty(this,"addToDoItem",function(e){e.preventDefault(),i.toDoListItems.push({task:i.toDoItemTextField.value,completed:!1}),i.toDoListItems.forEach(function(e,t){e.id=t+1}),i.list.innerHTML=i.toDoListItems.map(function(e){var t,i;return!0===e.completed?(t="completed ",i=" checked"):(t="",i=""),'<li><input data-id="'.concat(e.id,'" type="checkbox" value="').concat(e.completed,'" class="to-do-list-checkbox" ').concat(i,' /><span class="').concat(t,'read-item-title">').concat(e.task,'</span><input class="edit-item hide" type="text" value="').concat(e.task,'" /></li>')}).join(""),i.toDoListItems.length>0?i.instructions.className="show":i.instructions.className="hide",i.totalItems.innerHTML=i.toDoListItems.length}),_defineProperty(this,"getTotalItems",function(){i.totalItems.innerHTML=i.toDoListItems.length,i.totalCompletedItems1.innerHTML=i.toDoListItems.length,i.totalCompletedItems2.innerHTML=i.toDoListItems.length}),_defineProperty(this,"toggleCrossOffItems",function(t){var s=t.target,a=Number(t.target.dataset.id),o=e.toDoListItems.find(function(e){return e.id===a});if("to-do-list-checkbox"===s.className)if(s.checked){o.completed=!0,s.value=!0,"read-item-title"===s.nextSibling.className?s.nextSibling.className="completed read-item-title":"completed read-item-title hide"===s.nextSibling.className&&(s.nextSibling.className="completed read-item-title hide");var n=e.toDoListItems.filter(function(e){return!0===e.completed}).length;i.totalCompletedItems1.innerHTML=n,i.totalCompletedItems2.innerHTML=n,n>0?(i.deleteBtnParagraph.classList.remove("hide"),i.deleteBtnParagraph.classList.add("show")):(i.deleteBtnParagraph.classList.remove("show"),i.deleteBtnParagraph.classList.add("hide"))}else{o.completed=!1,s.value=!1,s.nextSibling.className="read-item-title";var l=e.toDoListItems.filter(function(e){return!0===e.completed}).length;i.totalCompletedItems1.innerHTML=l,i.totalCompletedItems2.innerHTML=l,l>0?(i.deleteBtnParagraph.classList.remove("hide"),i.deleteBtnParagraph.classList.add("show")):(i.deleteBtnParagraph.classList.remove("show"),i.deleteBtnParagraph.classList.add("hide"))}}),_defineProperty(this,"deleteCompletedItems",function(e){e.preventDefault();var t=i.toDoListItems;i.toDoListItems=t.filter(function(e){return!1===e.completed}),i.list.innerHTML=i.toDoListItems.map(function(e){var t,i;return!0===e.completed?(t="completed ",i=" checked"):(t="",i=""),'<li><input data-id="'.concat(e.id,'" type="checkbox" value="').concat(e.completed,'" class="to-do-list-checkbox" ').concat(i,' /><span class="').concat(t,'read-item-title">').concat(e.task,'</span><input class="edit-item hide" type="text" value="').concat(e.task,'" /></li>')}).join(""),i.deleteBtnParagraph.classList.remove("show"),i.deleteBtnParagraph.classList.add("hide"),i.totalCompletedItems1.innerHTML=i.toDoListItems.filter(function(e){return!0===e.completed}).length,i.totalItems.innerHTML=i.toDoListItems.length,i.toDoListItems.length>0?i.instructions.className="show":(console.log("blah"),i.instructions.className="hide")}),_defineProperty(this,"showUpdateItems",function(e){"read-item-title"===e.target.className?(e.target.className="read-item-title hide",e.target.nextSibling.className="edit-item show"):"completed read-item-title"===e.target.className&&(e.target.className="completed read-item-title hide",e.target.nextSibling.className="edit-item show")}),_defineProperty(this,"updateItemOnFocusOut",function(e){var t=e.target;if("edit-item show"===t.className){t.className="edit-item hide",t.previousSibling.innerHTML=t.value,t.setAttribute("value",t.value);var s=Number(t.previousSibling.previousSibling.dataset.id),a=i.toDoListItems.findIndex(function(e){return e.id===s});i.toDoListItems[a].task=t.value,"read-item-title hide"===t.previousSibling.className?t.previousSibling.className="read-item-title":"completed read-item-title hide"===t.previousSibling.className&&(t.previousSibling.className="completed read-item-title")}}),_defineProperty(this,"updateItemOnEnterKeyPress",function(e){var t=e.target;if(13===e.which&&"edit-item show"===t.className){t.className="edit-item hide",t.previousSibling.innerHTML=t.value,t.setAttribute("value",t.value);var s=Number(t.previousSibling.previousSibling.dataset.id),a=i.toDoListItems.findIndex(function(e){return e.id===s});i.toDoListItems[a].task=t.value,"read-item-title hide"===t.previousSibling.className?t.previousSibling.className="read-item-title":"completed read-item-title hide"===t.previousSibling.className&&(t.previousSibling.className="completed read-item-title")}}),this.form=document.querySelector("form"),this.submitBtn=document.querySelector('input[type="submit"]'),this.toDoItemTextField=document.querySelector("#todo-item"),this.totalCompletedItems1=document.querySelector("#total-completed-items1"),this.totalCompletedItems2=document.querySelector("#total-completed-items2"),this.totalItems=document.querySelector("#total-items"),this.list=document.querySelector("#list"),this.instructions=document.querySelector("#instructions"),this.deleteBtnParagraph=document.querySelector("#delete-btn"),this.deleteBtn=document.querySelector("#delete-btn > button"),this.toDoListItems=[]};e.submitBtn.addEventListener("click",e.addToDoItem),e.getTotalItems(),document.addEventListener("change",e.toggleCrossOffItems),e.deleteBtn.addEventListener("click",e.deleteCompletedItems),document.addEventListener("click",e.showUpdateItems),document.addEventListener("focusout",e.updateItemOnFocusOut),document.addEventListener("keydown",e.updateItemOnEnterKeyPress)}();